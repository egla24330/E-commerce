import{r as s,S as h,u as g,j as t}from"./index-DazIH8Dn.js";import{S as f}from"./Searchbox-CznY-Gqs.js";import{P as j}from"./Productitem-CqXa-Dcu.js";import{m as w}from"./proxy-CS_Y8pSq.js";import"./createLucideIcon-BoXZi9aP.js";import"./shopping-bag-BOiRmqlv.js";import"./x-ctOilpTw.js";const M=()=>{const{search:a}=s.useContext(h),{categorySlug:c}=g(),[l,p]=s.useState([]),[m,S]=s.useState(""),[x,y]=s.useState(""),[o,u]=s.useState(""),[n,d]=s.useState([]);return s.useEffect(()=>{(async()=>{p(products),d(products)})()},[c]),s.useEffect(()=>{let e=[...l];a&&(e=e.filter(r=>r.name.toLowerCase().includes(a.toLowerCase()))),o==="low"&&e.sort((r,i)=>r.price-i.price),o==="high"&&e.sort((r,i)=>i.price-r.price),d(e)},[a,m,x,o,l]),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsx(f,{}),t.jsxs("div",{className:" flex flex-col sm:flex-row justify-between gap-3 my-3",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center capitalize",children:c.replace("-"," ")}),t.jsxs("select",{value:o,onChange:e=>u(e.target.value),className:" border bg-white p-2 rounded-md h-[40px] ",children:[t.jsx("option",{value:"",children:"Sort By"}),t.jsx("option",{value:"low",children:"Price: Low to High"}),t.jsx("option",{value:"high",children:"Price: High to Low"})]})]}),n.length===0?t.jsx("p",{className:"text-center text-gray-500",children:"No products found."}):t.jsx(w.div,{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-6",initial:"hidden",animate:"show",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},children:n.map((e,r)=>t.jsx(j,{id:e._id,image:e.image,name:e.name,price:e.price},r))})]})};export{M as default};
