import{r as o,S as v,j as e,R as y,y as c,a as j}from"./index-D_AtKwXT.js";import{m as i}from"./proxy-B03JueXb.js";const k=()=>{var x;const{backendurl:h}=o.useContext(v);o.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const[s,m]=o.useState({name:"",email:"",rating:"5",message:""}),[d,l]=o.useState(!1),u=[{value:"5",label:"Excellent",description:"Exceeded all expectations",emoji:"ðŸ˜"},{value:"4",label:"Good",description:"Met expectations well",emoji:"ðŸ˜Š"},{value:"3",label:"Average",description:"Met basic expectations",emoji:"ðŸ˜"},{value:"2",label:"Poor",description:"Needs improvement",emoji:"ðŸ˜•"},{value:"1",label:"Very Poor",description:"Completely unsatisfied",emoji:"ðŸ˜ž"}].reverse(),n=a=>{const{name:g,value:r}=a.target;m(f=>({...f,[g]:r}))},p=async a=>{if(a.preventDefault(),l(!0),!s.name.trim()||!s.email.trim()||!s.message.trim()){c.error("Please fill in all required fields."),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){c.error("Please enter a valid email address."),l(!1);return}try{console.log(s);const r=await j.post(`${h}/api/feedback`,s);console.log(r),c.success("Thank you for your feedback!"),m({name:"",email:"",rating:"5",message:""})}catch(r){console.error(r),c.error("Failed to submit feedback. Please try again.")}finally{l(!1)}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},t={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return e.jsxs(i.div,{className:"max-w-xl mx-auto bg-white shadow-xl rounded-2xl p-6 mt-6",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-indigo-700",children:"We value your feedback ðŸ’¬"}),e.jsxs(i.form,{onSubmit:p,className:"space-y-5",variants:b,initial:"hidden",animate:"visible",children:[e.jsxs(i.div,{variants:t,children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-1",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",value:s.name,onChange:n,placeholder:"Your name"})]}),e.jsxs(i.div,{variants:t,children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-1",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",value:s.email,onChange:n,placeholder:"your.email@example.com"})]}),e.jsxs(i.div,{variants:t,children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"How would you rate your experience?"}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mt-2",children:u.map(a=>e.jsxs(y.Fragment,{children:[e.jsx("input",{type:"radio",name:"rating",id:`rating-${a.value}`,value:a.value,checked:s.rating===a.value,onChange:n,className:"hidden"}),e.jsxs(i.label,{htmlFor:`rating-${a.value}`,className:`flex flex-col items-center justify-center cursor-pointer rounded-xl p-2 text-center border transition-all ${s.rating===a.value?"border-indigo-500 bg-indigo-50 shadow-inner":"border-gray-300 hover:border-indigo-300 hover:bg-indigo-50/50"}`,whileHover:{scale:1.03},whileTap:{scale:.97},children:[e.jsx("span",{className:"text-2xl mb-1",children:a.emoji}),e.jsx("span",{className:"text-[10px] font-medium",children:a.label})]})]},a.value))}),e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-xl text-center",children:e.jsx("p",{className:"font-medium text-indigo-700",children:(x=u.find(a=>a.value===s.rating))==null?void 0:x.description})})]}),e.jsxs(i.div,{variants:t,children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-1",children:["Feedback",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"message",rows:"4",className:"w-full border border-gray-300 rounded-xl p-3 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",value:s.message,onChange:n,placeholder:"Tell us what you think...",maxLength:500}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[s.message.length,"/500"]})]}),e.jsx(i.div,{variants:t,whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsx("button",{type:"submit",disabled:d,className:`w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 px-4 rounded-xl transition duration-300 shadow-lg hover:shadow-xl ${d?"opacity-70 cursor-not-allowed":""}`,children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Submit Feedback"})})]})]})};export{k as default};
