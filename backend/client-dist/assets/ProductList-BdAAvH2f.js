import{j as s,r as a,S as b,u as j,a as y}from"./index-CYHhhT0N.js";import{P as v}from"./Productitem-CV0rAotN.js";import{S as w}from"./Searchbox-DtZyh8gF.js";import"./proxy-DKRBUN5K.js";import"./createLucideIcon-CFqMKfkG.js";import"./shopping-bag-DEnxafut.js";import"./x-CoIxZbED.js";const S=()=>s.jsxs("div",{className:"animate-pulse bg-white p-3 rounded-lg shadow w-full max-w-[220px] h-[300px]",children:[s.jsx("div",{className:"bg-gray-300 h-[210px] w-full rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]}),_=()=>{const{backendurl:n,search:c}=a.useContext(b),{slug:d}=j(),[u,m]=a.useState([]),[o,p]=a.useState(d),[P,N]=a.useState(""),[r,l]=a.useState(1),[g,x]=a.useState(1),[h,i]=a.useState(!0),f=["","Electronics & Accessories","Clothing & Fashion","Books & Education","Construction Materials","Real Estate & Guest Houses","Health & Beauty","Baby & Kids","Automotive Supplies","Furniture & Home Decor","Household Essentials"];return a.useEffect(()=>{(async()=>{i(!0);try{const t=await y.get(`${n}/api/product/list`,{params:{category:o,search:c,page:r}});console.log(t),m(t.data.products),x(t.data.totalPages)}catch(t){console.error("Fetch error:",t)}finally{i(!1)}})()},[o,c,r]),a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 ",children:[s.jsx(w,{}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-6",children:s.jsxs("select",{value:o,onChange:e=>{p(e.target.value),l(1)},className:"border px-3 py-2 rounded-md",children:[s.jsx("option",{value:"",children:"All Categories"}),f.filter(e=>e).map(e=>s.jsx("option",{value:e,children:e},e))]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-6",children:h?Array.from({length:8}).map((e,t)=>s.jsx(S,{},t)):u.map((e,t)=>s.jsx(v,{id:e._id,image:e.images,name:e.name,price:e.price},t))}),s.jsx("div",{className:"flex justify-center items-center gap-2 mt-6",children:Array.from({length:g}).map((e,t)=>s.jsx("button",{onClick:()=>l(t+1),className:`px-3 py-1 rounded-md border ${r===t+1?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:t+1},t+1))})]})};export{_ as default};
